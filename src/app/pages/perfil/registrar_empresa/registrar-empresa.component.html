<!-- src/app/pages/perfil/registrar_empresa/registrar-empresa.component.html -->
<div class="registrar-page">
  <!-- HEADER -->
  <header class="registrar-header">
    <div class="registrar-header-inner">
      <div class="registrar-logo">
        <img src="assets/img/logo_pan.png" alt="Logo Panader√≠a El Dan" />
        <div class="registrar-header-text">
          <h1>Registrar Negocio</h1>
          <p>Crea tu empresa o panader√≠a</p>
        </div>
      </div>

      <a routerLink="/perfil" class="registrar-btn-back">
        ‚Üê Volver
      </a>
    </div>
  </header>

  <!-- CONTENIDO -->
  <main class="registrar-main">
    <!-- SELECTOR DE TIPO -->
    <section class="registrar-tipo-selector">
      <h2>¬øQu√© deseas registrar?</h2>
      
      <div class="tipo-cards">
        <button 
          class="tipo-card"
          [class.active]="tipoSeleccionado === 'empresa'"
          (click)="tipoSeleccionado = 'empresa'">
          <div class="tipo-icon">üè¢</div>
          <h3>Empresa / Negocio</h3>
          <p>Para hacer pedidos de pan y productos</p>
        </button>

        <button 
          class="tipo-card"
          [class.active]="tipoSeleccionado === 'panaderia'"
          (click)="tipoSeleccionado = 'panaderia'">
          <div class="tipo-icon">ü•ñ</div>
          <h3>Panader√≠a</h3>
          <p>Para vender tus productos</p>
        </button>
      </div>
    </section>

    <!-- FORMULARIO DE EMPRESA -->
    <section *ngIf="tipoSeleccionado === 'empresa'" class="registrar-formulario">
      <div class="form-header">
        <h2>üìã Datos de la Empresa</h2>
        <p>Completa la informaci√≥n de tu negocio</p>
      </div>

      <form class="registrar-form" (ngSubmit)="registrarEmpresa()" #empresaForm="ngForm">
        <!-- Informaci√≥n B√°sica -->
        <div class="form-section">
          <h3>Informaci√≥n B√°sica</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="nombre_comercial">Nombre Comercial *</label>
              <input 
                type="text" 
                id="nombre_comercial"
                name="nombre_comercial"
                [(ngModel)]="formEmpresa.nombre_comercial"
                required
                placeholder="Ej: Caf√© Central"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="razon_social">Raz√≥n Social *</label>
              <input 
                type="text" 
                id="razon_social"
                name="razon_social"
                [(ngModel)]="formEmpresa.razon_social"
                required
                placeholder="Ej: Caf√© Central SA de CV"
                class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="rfc">RFC *</label>
              <input 
                type="text" 
                id="rfc"
                name="rfc"
                [(ngModel)]="formEmpresa.rfc"
                required
                maxlength="13"
                placeholder="Ej: CAC20010101ABC"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="tipo_empresa">Tipo de Empresa *</label>
              <select 
                id="tipo_empresa"
                name="tipo_empresa"
                [(ngModel)]="formEmpresa.tipo_empresa"
                required
                class="form-input">
                <option value="">Selecciona...</option>
                <option value="cafeteria">Cafeter√≠a</option>
                <option value="restaurante">Restaurante</option>
                <option value="hotel">Hotel</option>
                <option value="distribuidor">Distribuidor</option>
                <option value="panaderia">Panader√≠a</option>
                <option value="supermercado">Supermercado</option>
                <option value="otro">Otro</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Contacto -->
        <div class="form-section">
          <h3>Contacto</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="email_facturacion">Email de Facturaci√≥n *</label>
              <input 
                type="email" 
                id="email_facturacion"
                name="email_facturacion"
                [(ngModel)]="formEmpresa.email_facturacion"
                required
                placeholder="facturacion@empresa.com"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="telefono">Tel√©fono *</label>
              <input 
                type="tel" 
                id="telefono"
                name="telefono"
                [(ngModel)]="formEmpresa.telefono"
                required
                placeholder="6681234567"
                class="form-input">
            </div>
          </div>
        </div>

        <!-- Direcci√≥n Fiscal -->
        <div class="form-section">
          <h3>Direcci√≥n Fiscal</h3>
          
          <div class="form-row">
            <div class="form-group form-group-wide">
              <label for="calle_fiscal">Calle *</label>
              <input 
                type="text" 
                id="calle_fiscal"
                name="calle_fiscal"
                [(ngModel)]="formEmpresa.calle_fiscal"
                required
                placeholder="Ej: Av. Revoluci√≥n"
                class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="numero_exterior_fiscal">N√∫mero Exterior *</label>
              <input 
                type="text" 
                id="numero_exterior_fiscal"
                name="numero_exterior_fiscal"
                [(ngModel)]="formEmpresa.numero_exterior_fiscal"
                required
                placeholder="123"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="numero_interior_fiscal">N√∫mero Interior</label>
              <input 
                type="text" 
                id="numero_interior_fiscal"
                name="numero_interior_fiscal"
                [(ngModel)]="formEmpresa.numero_interior_fiscal"
                placeholder="A"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="colonia_fiscal">Colonia *</label>
              <input 
                type="text" 
                id="colonia_fiscal"
                name="colonia_fiscal"
                [(ngModel)]="formEmpresa.colonia_fiscal"
                required
                placeholder="Centro"
                class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="ciudad_fiscal">Ciudad *</label>
              <input 
                type="text" 
                id="ciudad_fiscal"
                name="ciudad_fiscal"
                [(ngModel)]="formEmpresa.ciudad_fiscal"
                required
                placeholder="Los Mochis"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="estado_fiscal">Estado *</label>
              <input 
                type="text" 
                id="estado_fiscal"
                name="estado_fiscal"
                [(ngModel)]="formEmpresa.estado_fiscal"
                required
                placeholder="Sinaloa"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="codigo_postal_fiscal">C√≥digo Postal *</label>
              <input 
                type="text" 
                id="codigo_postal_fiscal"
                name="codigo_postal_fiscal"
                [(ngModel)]="formEmpresa.codigo_postal_fiscal"
                required
                maxlength="5"
                placeholder="81200"
                class="form-input">
            </div>
          </div>
        </div>

        <!-- Botones -->
        <div class="form-actions">
          <button 
            type="button" 
            class="registrar-btn-secondary"
            (click)="limpiarFormulario()">
            Limpiar
          </button>
          <button 
            type="submit" 
            class="registrar-btn-primary"
            [disabled]="isSubmitting || !empresaForm.valid">
            {{ isSubmitting ? 'Registrando...' : 'Registrar Empresa' }}
          </button>
        </div>
      </form>
    </section>

    <!-- FORMULARIO DE PANADER√çA -->
    <section *ngIf="tipoSeleccionado === 'panaderia'" class="registrar-formulario">
      <div class="form-header">
        <h2>ü•ñ Datos de la Panader√≠a</h2>
        <p>Completa la informaci√≥n de tu panader√≠a</p>
      </div>

      <form class="registrar-form" (ngSubmit)="registrarPanaderia()" #panaderiaForm="ngForm">
        <!-- Informaci√≥n B√°sica -->
        <div class="form-section">
          <h3>Informaci√≥n B√°sica</h3>
          
          <div class="form-row">
            <div class="form-group form-group-wide">
              <label for="nombre">Nombre de la Panader√≠a *</label>
              <input 
                type="text" 
                id="nombre"
                name="nombre"
                [(ngModel)]="formPanaderia.nombre"
                required
                placeholder="Ej: Panader√≠a El Dan"
                class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group form-group-wide">
              <label for="descripcion">Descripci√≥n</label>
              <textarea 
                id="descripcion"
                name="descripcion"
                [(ngModel)]="formPanaderia.descripcion"
                rows="3"
                placeholder="Describe tu panader√≠a..."
                class="form-input"></textarea>
            </div>
          </div>
        </div>

        <!-- Contacto -->
        <div class="form-section">
          <h3>Contacto</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="email">Email *</label>
              <input 
                type="email" 
                id="email"
                name="email"
                [(ngModel)]="formPanaderia.email"
                required
                placeholder="ventas@panaderia.com"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="telefono_pan">Tel√©fono *</label>
              <input 
                type="tel" 
                id="telefono_pan"
                name="telefono"
                [(ngModel)]="formPanaderia.telefono"
                required
                placeholder="6681234567"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="whatsapp">WhatsApp</label>
              <input 
                type="tel" 
                id="whatsapp"
                name="whatsapp"
                [(ngModel)]="formPanaderia.whatsapp"
                placeholder="6681234567"
                class="form-input">
            </div>
          </div>
        </div>

        <!-- Ubicaci√≥n -->
        <div class="form-section">
          <h3>Ubicaci√≥n</h3>
          
          <div class="form-row">
            <div class="form-group form-group-wide">
              <label for="calle">Calle *</label>
              <input 
                type="text" 
                id="calle"
                name="calle"
                [(ngModel)]="formPanaderia.calle"
                required
                placeholder="Av. Principal"
                class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="numero_exterior">N√∫mero Exterior *</label>
              <input 
                type="text" 
                id="numero_exterior"
                name="numero_exterior"
                [(ngModel)]="formPanaderia.numero_exterior"
                required
                placeholder="456"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="numero_interior">N√∫mero Interior</label>
              <input 
                type="text" 
                id="numero_interior"
                name="numero_interior"
                [(ngModel)]="formPanaderia.numero_interior"
                placeholder="B"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="colonia">Colonia *</label>
              <input 
                type="text" 
                id="colonia"
                name="colonia"
                [(ngModel)]="formPanaderia.colonia"
                required
                placeholder="Centro"
                class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="ciudad">Ciudad *</label>
              <input 
                type="text" 
                id="ciudad"
                name="ciudad"
                [(ngModel)]="formPanaderia.ciudad"
                required
                placeholder="Los Mochis"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="estado">Estado *</label>
              <input 
                type="text" 
                id="estado"
                name="estado"
                [(ngModel)]="formPanaderia.estado"
                required
                placeholder="Sinaloa"
                class="form-input">
            </div>

            <div class="form-group">
              <label for="codigo_postal">C√≥digo Postal *</label>
              <input 
                type="text" 
                id="codigo_postal"
                name="codigo_postal"
                [(ngModel)]="formPanaderia.codigo_postal"
                required
                maxlength="5"
                placeholder="81200"
                class="form-input">
            </div>
          </div>
        </div>

        <!-- Botones -->
        <div class="form-actions">
          <button 
            type="button" 
            class="registrar-btn-secondary"
            (click)="limpiarFormulario()">
            Limpiar
          </button>
          <button 
            type="submit" 
            class="registrar-btn-primary"
            [disabled]="isSubmitting || !panaderiaForm.valid">
            {{ isSubmitting ? 'Registrando...' : 'Registrar Panader√≠a' }}
          </button>
        </div>
      </form>
    </section>

    <!-- MENSAJE DE √âXITO -->
    <div *ngIf="mensajeExito" class="mensaje-exito">
      <div class="mensaje-icon">‚úÖ</div>
      <h3>¬°Registro exitoso!</h3>
      <p>{{ mensajeExito }}</p>
      <a routerLink="/perfil/mis-empresas" class="registrar-btn-primary">
        Ver mis negocios
      </a>
    </div>

    <!-- MENSAJE DE ERROR -->
    <div *ngIf="mensajeError" class="mensaje-error">
      <div class="mensaje-icon">‚ùå</div>
      <h3>Error en el registro</h3>
      <p>{{ mensajeError }}</p>
      <button (click)="mensajeError = ''" class="registrar-btn-secondary">
        Cerrar
      </button>
    </div>
  </main>
</div>